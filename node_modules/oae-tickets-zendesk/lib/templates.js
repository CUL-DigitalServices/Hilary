/*!
 * Copyright 2014 Digital Services, University of Cambridge Licensed
 * under the Educational Community License, Version 2.0 (the
 * "License"); you may not use this file except in compliance with the
 * License. You may obtain a copy of the License at
 *
 *     http://opensource.org/licenses/ECL-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an "AS IS"
 * BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */

var _ = require('underscore');

/**
 * The template used to generate the ZenDesk ticket's description field.
 * This will be included in the email to the user who uploaded the publication.
 *
 * @api private
 */
var zendeskTicketBodyTemplate = module.exports.zendeskTicketBodyTemplate = _.template([
    'Open Access enquiry <%= ticket.externalId %> has been received by <%= tenant.displayName %> (<%= publicationURL %>).',
    '',
    'The information received was as follows:',
    '',
    'User information:',
    '  Name: <%= user.displayName %>',
    '  Department: <%= publication.department || \'(none provided)\' %>',
    '  Email: <%= email || \'(none provided)\' %>',
    '',
    'Publishing information:',
    '  Article title: <%= publication.displayName || \'(none provided)\' %>',
    '  Journal title: <%= publication.journalName || \'(none provided)\' %>',
    '  Corresponding author: <%= publication.authors || \'(none provided)\'%>',
    '  Institution of corresponding author: <%= publication.institution || \'(none provided)\' %>',
    '  Funders: <%= funders || \'(none provided)\'%>',
    '  Other funder(s): <%= otherFunders || \'(none provided)\'%>',
    '  Acceptance date: <%= acceptanceDate || \'(none provided)\' %>',
    '  Remarks:',
    '┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓',
    '<%= publication.comments || \'(none provided)\'%>',
    '┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛'
].join('\n'));

/**
 * The template used to generate the ZenDesk ticket's private comment body.
 *
 * @api private
 */
var zendeskTicketCommentBodyTemplate = module.exports.zendeskTicketCommentBodyTemplate = _.template([
    'Submitted file download link:',
    '  <%= downloadURL || \'(no file attached)\' %>',
    'For debugging purposes only:',
    '  The avocet internal user ID: <%= user.id %>',
].join('\n'));
